<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="pt">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>Orçamento</title>
    <style type="text/css">
        /* Página e reset */
        @page { size: A4; margin: 15mm; }           /* (1) margens agora na página */
        * { margin:0; padding:0; box-sizing:border-box; }
        /* REMOVA esta linha: html, body { height:100%; } */   /* (2) tirar height:100% */
        body {
          background-color:#f5f5f5;
          font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
          color:#1A1A1A;
        }

        .container {
          background-color:#ffffff;
          margin:0;                                  /* (3) antes era 15mm; zera aqui */
        }

        /* Header (tabela estável p/ PDF) */
        .header { padding:40px 60px; background-color:#1A1A1A; }
        .header-table { width:100%; border-collapse:collapse; table-layout:fixed; }
        .logo-cell { width:50%; vertical-align:middle; }
        .info-cell { width:50%; vertical-align:middle; text-align:right; }
        .logo-box { width:180px; height:60px; overflow:hidden; padding:10px; border:1px solid #444; }
        .logo-box img { max-width:100%; max-height:100%; display:block; }
        .doc-title { font-size:46px; font-weight:700; letter-spacing:-1.5px; color:#ffffff; margin-bottom:12px; line-height:1; }
        .doc-meta { font-size:13px; color:#E6E6E6; line-height:1.6; word-break:break-word; }
        .doc-meta strong { color:#FFFFFF; font-weight:600; }

        /* Seções */
        .cliente-section { padding:45px 60px; border-bottom:1px solid rgba(26,26,26,0.1); page-break-inside:avoid; }
        .section-label { font-size:10px; text-transform:uppercase; letter-spacing:2px; color:rgba(26,26,26,0.5); font-weight:700; margin-bottom:18px; }
        .cliente-info { font-size:14px; line-height:1.8; color:rgba(26,26,26,0.8); }
        .cliente-info div { margin-bottom:4px; }

        /* Itens */
        .itens-section { padding:45px 60px; page-break-inside:avoid; }
        .items-table { width:100%; border-collapse:collapse; margin-top:24px; table-layout:fixed; }
        .items-table thead { display:table-header-group; }
        .items-table thead th {
          text-align:left; font-size:10px; text-transform:uppercase; letter-spacing:1.5px; font-weight:700;
          color:rgba(26,26,26,0.5); padding-bottom:18px; border-bottom:2px solid #1A1A1A;
        }
        .items-table thead th:last-child { text-align:right; }
        .items-table tbody tr { page-break-inside:avoid; }
        .items-table tbody td {
          padding:22px 0; border-bottom:1px solid rgba(26,26,26,0.06); font-size:14px; vertical-align:top;
        }
        .items-table tbody td:last-child { text-align:right; }
        .items-table tbody tr:last-child td { border-bottom:none; padding-bottom:0; }
        .item-name { font-weight:600; color:#1A1A1A; }
        .item-desc { font-size:13px; color:rgba(26,26,26,0.55); margin-top:4px; }

        /* Totais */
        .totais-section { padding:35px 60px 55px; background-color:#1A1A1A; page-break-inside:avoid; }
        .totais-box { width:400px; margin-left:auto; }
        .totals-table { width:100%; border-collapse:collapse; }
        .totals-table td {
          padding:12px 0; font-size:14px; border-bottom:1px solid rgba(255,255,255,0.1); color:#D9D9D9;
        }
        .totals-table tr:first-child td { padding-top:0; }
        .totals-table tr:last-child td { border-bottom:none; }
        .totals-table td:last-child { text-align:right; font-weight:600; }
        .totals-table .final td {
          border-top:2px solid #FFFFFF; padding-top:20px; font-size:20px; font-weight:700; color:#FFFFFF;
        }

        /* Footer */
        .footer { padding:32px 60px; background-color:#FFFFFF; border-top:1px solid rgba(26,26,26,0.1);
          color:rgba(26,26,26,0.6); font-size:11.5px; line-height:1.7; page-break-inside:avoid; }
        .footer-title { color:#1A1A1A; font-weight:700; margin-bottom:10px; text-transform:uppercase; letter-spacing:1.5px; font-size:10px; }
    </style>

</head>
<body>
<div class="container">
    <!-- Header -->
    <div class="header">
        <table class="header-table" role="presentation" cellspacing="0" cellpadding="0">
            <tr>
                <td class="logo-cell">
                    <div class="logo-box">
                        <img src="${logo_src}" alt="Logo" width="180" height="60"/>
                    </div>
                </td>
                <td class="info-cell">
                    <div class="doc-title">Orçamento</div>
                    <div class="doc-meta">
                        <div><strong>Nº</strong> ${id}</div>
                        <div><strong>Data</strong> ${data}</div>
                    </div>
                </td>
            </tr>
        </table>
    </div>

    <!-- Cliente -->
    <div class="cliente-section">
        <div class="section-label">Cliente</div>

        <div class="cliente-info">
          ${campos}
        </div>

    </div>

    <!-- Itens -->
    <div class="itens-section">
        <div class="section-label">Itens do Orçamento</div>
        <table class="items-table">
            <thead>
            <tr>
                <th style="width:45%;">Descrição</th>
                <th style="width:15%;">Qtd</th>
                <th style="width:20%;">Valor Unit.</th>
                <th style="width:20%;">Total</th>
            </tr>
            </thead>
            <tbody>
            ${itens}
            </tbody>
        </table>
    </div>

    <!-- Totais -->
    <div class="totais-section">
        <div class="totais-box">
            <table class="totals-table" role="presentation" cellspacing="0" cellpadding="0">
                <tr>
                    <td>Subtotal</td>
                    <td>${subtotal}</td>
                </tr>
                <tr>
                    <td>Desconto</td>
                    <td>${desconto}</td>
                </tr>
                <tr class="final">
                    <td>Total</td>
                    <td>${total}</td>
                </tr>
            </table>
        </div>
    </div>

    <!-- Footer -->
    <div class="footer">
        <div class="footer-title">Condições</div>
        Este orçamento é válido por até 7 dias. Valores sujeitos a alteração após esse período.
        Em caso de dúvidas, entre em contato.
    </div>
</div>
</body>
</html>
